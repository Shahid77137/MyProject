<!DOCTYPE html>
<html>

<head>
	<title>Remove Customer</title>
	<link rel="stylesheet" href="../adminPagesCSS/removeCustomer.css">
</head>

<body>
	<div class="form">
		<h1>Remove Customer</h1>
		<form method="POST" action="#">
			<label for="customer-id">Customer ID:</label>
			<input type="text" id="customer-id" name="customer-id" required><br><br>
			<button type="button" id="delete" onclick="kkk()">Submit</button>
		</form>
	</div>
</body>

</html>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>


	let deleted = document.getElementById("delete");

	// deleted.addEventListener("click", (e) =>{
	function kkk(params) {
		event.preventDefault();
		let id = document.getElementById("customer-id").value;
		console.log(id);
		console.log("hello " + id);
		// let choice = confirm("Are You Sure Delete Customer?");

		Swal.fire({
			title: 'Are you sure?',
			text: "You won't be able to revert this!",
			icon: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33',
			confirmButtonText: 'Yes, delete it!'
		}).then((result) => {
			if (result.isConfirmed) {
				Swal.fire(
					'Deleted!',
					'Your file has been deleted.',
					'success'
				)
			}
			fetch(`http://localhost:8080/cs-con/customers/${id}`, {
				method: "DELETE"
			}).then(response => {
				response.json().then(data => {
					alert("Customers sucessfully deleted: ");

				});
			})
			window.location.reload();

		})

	}
// })



</script>